(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",5e3),document.querySelector(".check")&&(document.querySelector(".check").textContent=sessionStorage.getItem("money"));const t=document.querySelector(".preloader"),s=document.querySelector(".wrapper");function o(e,t){document.querySelector(e).classList.contains(t)?document.querySelector(e).classList.remove(t):document.querySelector(e).classList.add(t)}function r(e,t){document.querySelectorAll(e).forEach((e=>{e.classList.contains(t)&&e.classList.remove(t)}))}function n(e,t){let s=+sessionStorage.getItem("money");sessionStorage.setItem("money",s-e),setTimeout((()=>{document.querySelector(t).classList.add("_delete-money"),document.querySelector(t).textContent=sessionStorage.getItem("money")}),500),setTimeout((()=>{document.querySelector(t).classList.remove("_delete-money")}),1500)}function c(e){document.querySelector(e).classList.add("_no-money"),setTimeout((()=>{document.querySelector(e).classList.remove("_no-money")}),1e3)}function i(e,t,s,o){setTimeout((()=>{document.querySelector(t).textContent=+sessionStorage.getItem("money")+e,document.querySelector(t).classList.add("_anim-add-money"),sessionStorage.setItem("money",+sessionStorage.getItem("money")+e)}),s),setTimeout((()=>{document.querySelector(t).classList.remove("_anim-add-money")}),o)}function a(){let e=(t=0,s=3,Math.floor(Math.random()*(s-t)+t));var t,s;let o=document.querySelector(".bank__body img");o.classList.contains("_anim-icon-jump")?o.classList.remove("_anim-icon-jump"):o.classList.contains("_anim-icon-scale")?o.classList.remove("_anim-icon-scale"):o.classList.contains("_anim-icon-rotate")&&o.classList.remove("_anim-icon-rotate"),o.classList.add(`_anim-icon-${["jump","scale","rotate"][e]}`)}function l(e){sessionStorage.getItem(`bonus-${e}`)?sessionStorage.setItem(`bonus-${e}`,+sessionStorage.getItem(`bonus-${e}`)+1):sessionStorage.setItem(`bonus-${e}`,1),document.querySelector(`.box-bonus__count_${e}`).textContent=sessionStorage.getItem(`bonus-${e}`)}function u(e){sessionStorage.getItem(`bonus-${e}`)?sessionStorage.setItem(`bonus-${e}`,+sessionStorage.getItem(`bonus-${e}`)):sessionStorage.setItem(`bonus-${e}`,0),document.querySelector(`.box-bonus__count_${e}`).textContent=sessionStorage.getItem(`bonus-${e}`)}document.querySelector(".bank__body img")&&setInterval((()=>{a()}),2e4),document.querySelector(".shop")&&(sessionStorage.getItem("bonus-1")?document.querySelector(".box-bonus__count_1").textContent=sessionStorage.getItem("bonus-1"):document.querySelector(".box-bonus__count_1").textContent=0,sessionStorage.getItem("bonus-2")?document.querySelector(".box-bonus__count_2").textContent=sessionStorage.getItem("bonus-2"):document.querySelector(".box-bonus__count_2").textContent=0,sessionStorage.getItem("bonus-3")?document.querySelector(".box-bonus__count_3").textContent=sessionStorage.getItem("bonus-3"):document.querySelector(".box-bonus__count_3").textContent=0);let m={coord_item_left:0},d=[],_=[];function g(){_=b(d),document.querySelectorAll(".wires__wire").forEach(((e,t)=>{e.dataset.value=_[t]})),S()}function S(){sessionStorage.setItem("correctly-items",0),sessionStorage.setItem("bang-items",0),document.querySelectorAll(".wires__wire").forEach((e=>{"correctly"==e.dataset.value?sessionStorage.setItem("correctly-items",+sessionStorage.getItem("correctly-items")+1):"bang"==e.dataset.value&&sessionStorage.setItem("bang-items",+sessionStorage.getItem("bang-items")+1)}))}function b(e){for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function w(e){setTimeout((()=>{!function(e){let t=document.createElement("div");t.classList.add("wires__line");let s=document.createElement("img");s.setAttribute("src","img/icons/pin.jpg"),t.append(s),e.append(t)}(e)}),1500),"bang"==e.dataset.value?(!function(){let e=document.createElement("div");e.classList.add("field-game__fire");let t=document.createElement("img");t.setAttribute("src","img/icons/bang.gif"),t.setAttribute("alt","gif-bang"),e.append(t),setTimeout((()=>{document.querySelector(".field-game__bomb").append(e)}),1e3),setTimeout((()=>{e.remove()}),2300)}(),setTimeout((()=>{document.querySelector(".field-game__clipper").classList.add("_bang")}),1e3),setTimeout((()=>{document.querySelector(".loose").classList.add("_active")}),2e3)):"correctly"==e.dataset.value&&(e.dataset.value="empty",sessionStorage.setItem("correctly-items",+sessionStorage.getItem("correctly-items")-1),i(50,".check",1500,2500),setTimeout((()=>{!function(e){let t=document.createElement("div");t.classList.add("wires__pin");let s=document.createElement("img");s.setAttribute("src","img/icons/check-mark.png"),t.append(s),e.append(t)}(e)}),1500),y())}function y(){if(+sessionStorage.getItem("correctly-items")<=0){let e=+sessionStorage.getItem("current-x")*+sessionStorage.getItem("current-bet");i(e,".check",1500,2500),document.querySelector(".win__text").textContent=e,setTimeout((()=>{document.querySelector(".win").classList.add("_active")}),2e3)}}function I(){document.querySelector(".field-game__clipper")&&(document.querySelector(".field-game__clipper").style.left=m.coord_item_left-20+"px",document.querySelector(".field-game__clipper").style.bottom="60%",setTimeout((()=>{document.querySelector(".field-game__clipper").style.left="80%",document.querySelector(".field-game__clipper").style.bottom="0"}),1500)),document.querySelector(".field-game__clipper").classList.add("_active"),setTimeout((()=>{document.querySelector(".field-game__clipper").classList.remove("_active")}),1500)}document.querySelector(".game")&&(sessionStorage.setItem("current-bet",50),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet"),document.querySelector(".header__text").textContent=sessionStorage.getItem("current-level"),u(1),u(2),u(3),"ease"==sessionStorage.getItem("current-level")?(!function(){let e=document.createElement("div");e.classList.add("wires__wire"),e.classList.add("wires__wire_red");let t=document.createElement("div");t.classList.add("wires__wire"),t.classList.add("wires__wire_yellow");let s=document.createElement("div");s.classList.add("wires__wire"),s.classList.add("wires__wire_green");let o=document.createElement("div");o.classList.add("wires__wire"),o.classList.add("wires__wire_sky");let r=document.createElement("div");r.classList.add("wires__wire"),r.classList.add("wires__wire_blue"),document.querySelector(".wires").append(e,t,s,o,r)}(),d=["correctly","correctly","bang","bang","neutral"],sessionStorage.setItem("current-x",4)):"normal"==sessionStorage.getItem("current-level")?(!function(){let e=document.createElement("div");e.classList.add("wires__wire"),e.classList.add("wires__wire_red");let t=document.createElement("div");t.classList.add("wires__wire"),t.classList.add("wires__wire_red");let s=document.createElement("div");s.classList.add("wires__wire"),s.classList.add("wires__wire_yellow");let o=document.createElement("div");o.classList.add("wires__wire"),o.classList.add("wires__wire_green");let r=document.createElement("div");r.classList.add("wires__wire"),r.classList.add("wires__wire_sky");let n=document.createElement("div");n.classList.add("wires__wire"),n.classList.add("wires__wire_blue");let c=document.createElement("div");c.classList.add("wires__wire"),c.classList.add("wires__wire_red");let i=document.createElement("div");i.classList.add("wires__wire"),i.classList.add("wires__wire_green"),document.querySelector(".wires").append(e,t,s,o,r,n,c,i)}(),d=["correctly","correctly","correctly","bang","bang","bang","neutral","neutral"],sessionStorage.setItem("current-x",6)):"hard"==sessionStorage.getItem("current-level")&&(!function(){let e=document.createElement("div");e.classList.add("wires__wire"),e.classList.add("wires__wire_sky");let t=document.createElement("div");t.classList.add("wires__wire"),t.classList.add("wires__wire_sky");let s=document.createElement("div");s.classList.add("wires__wire"),s.classList.add("wires__wire_green");let o=document.createElement("div");o.classList.add("wires__wire"),o.classList.add("wires__wire_yellow");let r=document.createElement("div");r.classList.add("wires__wire"),r.classList.add("wires__wire_green");let n=document.createElement("div");n.classList.add("wires__wire"),n.classList.add("wires__wire_sky");let c=document.createElement("div");c.classList.add("wires__wire"),c.classList.add("wires__wire_sky");let i=document.createElement("div");i.classList.add("wires__wire"),i.classList.add("wires__wire_green"),document.querySelector(".wires").append(e,t,s,o,r,n,c,i)}(),d=["correctly","correctly","correctly","correctly","bang","bang","bang","bang"],sessionStorage.setItem("current-x",8)),document.querySelector(".field-game__multiple p").textContent=`x${sessionStorage.getItem("current-x")}`,g()),document.addEventListener("click",(e=>{let i=e.target;if(i.closest(".preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),s.classList.add("_visible")),i.closest(".item-shop__button-buy_double")&&(+sessionStorage.getItem("money")>=1e3?(n(1e3,".check"),l(1)):c(".check")),i.closest(".item-shop__button-buy_lamp")&&(+sessionStorage.getItem("money")>=5e3?(n(5e3,".check"),l(2)):c(".check")),i.closest(".item-shop__button-buy_half")&&(+sessionStorage.getItem("money")>=2500?(n(2500,".check"),l(3)):c(".check")),i.closest(".block-bet__minus")){let e=+sessionStorage.getItem("current-bet");e>=50&&(sessionStorage.setItem("current-bet",e-50),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet"))}if(i.closest(".block-bet__plus")){let e=+sessionStorage.getItem("current-bet");+sessionStorage.getItem("money")-49>e?(sessionStorage.setItem("current-bet",e+50),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")):c(".check")}var a;i.closest(".main__button_easy")&&sessionStorage.setItem("current-level","ease"),i.closest(".main__button_normal")&&sessionStorage.setItem("current-level","normal"),i.closest(".main__button_hard")&&sessionStorage.setItem("current-level","hard"),i.closest(".wires")&&i.closest(".wires__wire")&&!i.closest(".wires__wire").classList.contains("_active")&&(i.closest(".wires__wire").classList.add("_active"),a=i.closest(".wires__wire"),m.coord_item_left=a.getBoundingClientRect().left,I(),w(i.closest(".wires__wire")),o(".wires","_hold"),setTimeout((()=>{o(".wires","_hold")}),2e3),r(".wires__wire","_prompt"),o(".footer-game__bonuses","_not-active")),(i.closest(".loose__button_play")||i.closest(".win__button_play"))&&(g(),document.querySelector(".win").classList.contains("_active")?document.querySelector(".win").classList.remove("_active"):document.querySelector(".loose").classList.remove("_active"),"ease"==sessionStorage.getItem("current-level")?sessionStorage.setItem("current-x",4):"normal"==sessionStorage.getItem("current-level")?sessionStorage.setItem("current-x",6):"hard"==sessionStorage.getItem("current-level")&&sessionStorage.setItem("current-x",8),document.querySelector(".field-game__multiple p").textContent=`x${sessionStorage.getItem("current-x")}`,document.querySelectorAll(".wires__wire").forEach((e=>e.classList.remove("_active"))),document.querySelector(".field-game__clipper").classList.remove("_bang"),o(".block-bet","_hold"),o(".footer-game__button-bet","_hold"),o(".footer-game__bonuses","_hold"),r(".wires__wire","_hide"),o(".wires","_hold"),+sessionStorage.getItem("current-bet")>+sessionStorage.getItem("money")&&(sessionStorage.setItem("current-bet",0),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")),document.querySelector(".wires__pin")&&document.querySelectorAll(".wires__pin").forEach((e=>e.remove())),document.querySelector(".wires__line")&&document.querySelectorAll(".wires__line").forEach((e=>e.remove()))),i.closest(".footer-game__button-bet")&&(document.querySelector(".wires").classList.remove("_hold"),n(+sessionStorage.getItem("current-bet"),".check"),o(".block-bet","_hold"),o(".footer-game__button-bet","_hold"),o(".footer-game__bonuses","_hold")),i.closest(".box-bonus_1")&&document.querySelector(".game")&&+sessionStorage.getItem("bonus-1")>0&&(sessionStorage.setItem("bonus-1",+sessionStorage.getItem("bonus-1")-1),sessionStorage.setItem("current-x",2*+sessionStorage.getItem("current-x")),document.querySelector(".box-bonus__count_1").textContent=sessionStorage.getItem("bonus-1"),document.querySelector(".field-game__multiple p").textContent=`x${sessionStorage.getItem("current-x")}`,setTimeout((()=>{o(".footer-game__bonuses","_not-active")}),1e3)),i.closest(".box-bonus_2")&&document.querySelector(".game")&&+sessionStorage.getItem("bonus-2")>0&&(!function(){sessionStorage.setItem("bonus-2",+sessionStorage.getItem("bonus-2")-1),document.querySelector(".box-bonus__count_2").textContent=sessionStorage.getItem("bonus-2");let e=[];document.querySelectorAll(".wires__wire").forEach((t=>{"correctly"==t.dataset.value&&e.push(t)})),e[0].classList.add("_prompt")}(),o(".footer-game__bonuses","_not-active")),i.closest(".box-bonus_3")&&document.querySelector(".game")&&+sessionStorage.getItem("bonus-3")>0&&(!function(){sessionStorage.setItem("bonus-3",+sessionStorage.getItem("bonus-3")-1),document.querySelector(".box-bonus__count_3").textContent=sessionStorage.getItem("bonus-3");let e=[],t=[];document.querySelectorAll(".wires__wire").forEach(((s,o)=>{s.classList.contains("_active")||(e.push(s),t.push(o))}));let s=Math.ceil(e.length/2);!function(e,t){e.forEach(((e,s)=>{s<t&&(e.classList.add("_hide"),e.dataset.value="empty")}))}(b(e),s),S(),y()}(),o(".footer-game__bonuses","_not-active"),setTimeout((()=>{o(".footer-game__bonuses","_not-active")}),1e3))})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();